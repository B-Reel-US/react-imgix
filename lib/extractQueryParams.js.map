{"version":3,"sources":["../src/extractQueryParams.js"],"names":["extractQueryParams","src","ext","splitSrc","config","queryDelim","split","mockFormat","match","replace","url","query","paramsPairs","params","len","length","i","param","splitParam","key","val","decodeURIComponent"],"mappings":";;;;;;;AAAA;;AAEe,SAASA,kBAAT,CAA4BC,GAA5B,EAAiC;AAC9C,MAAIC,GAAG,GAAG,EAAV;AAEA,MAAMC,QAAQ,GAAGC,eAAOC,UAAP,GACbJ,GAAG,CAACK,KAAJ,CAAWF,eAAOC,UAAlB,CADa,GAEbJ,GAAG,CAACK,KAAJ,CAAU,GAAV,CAFJ;;AAIA,MAAKF,eAAOG,UAAP,IAAqBJ,QAAQ,CAAC,CAAD,CAAlC,EAAwC;AACtCD,IAAAA,GAAG,GAAGC,QAAQ,CAAC,CAAD,CAAR,CAAYK,KAAZ,CAAmB,YAAnB,EAAkC,CAAlC,CAAN;AACAL,IAAAA,QAAQ,CAAC,CAAD,CAAR,GAAcA,QAAQ,CAAC,CAAD,CAAR,CAAYM,OAAZ,CAAqBP,GAArB,EAA0B,EAA1B,CAAd;AACD;;AAED,MAAMQ,GAAG,GAAGP,QAAQ,CAAC,CAAD,CAApB;AACA,MAAMQ,KAAK,GAAGR,QAAQ,CAAC,CAAD,CAAtB;;AACA,MAAI,CAACQ,KAAL,EAAY;AACV,WAAO,CAACD,GAAD,EAAM,EAAN,CAAP;AACD;;AACD,MAAME,WAAW,GAAGD,KAAK,CAACL,KAAN,CAAY,GAAZ,CAApB;AACA,MAAMO,MAAM,GAAG,EAAf;AACA,MAAMC,GAAG,GAAGF,WAAW,CAACG,MAAxB;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAApB,EAAyBE,CAAC,EAA1B,EAA8B;AAC5B,QAAMC,KAAK,GAAGL,WAAW,CAACI,CAAD,CAAzB;AACA,QAAME,UAAU,GAAGD,KAAK,CAACX,KAAN,CAAY,GAAZ,CAAnB;AACA,QAAMa,GAAG,GAAGD,UAAU,CAAC,CAAD,CAAtB;AACA,QAAME,GAAG,GAAGF,UAAU,CAAC,CAAD,CAAtB;AACAL,IAAAA,MAAM,CAACM,GAAD,CAAN,GAAcE,kBAAkB,CAACD,GAAD,CAAhC;AACD;;AACD,SAAO,CAACV,GAAD,EAAMG,MAAN,EAAcX,GAAd,CAAP;AACD","sourcesContent":["import { config } from \"./common\";\n\nexport default function extractQueryParams(src) {\n  let ext = '';\n\n  const splitSrc = config.queryDelim\n    ? src.split( config.queryDelim )\n    : src.split(\"?\");\n\n  if ( config.mockFormat && splitSrc[1] ) {\n    ext = splitSrc[1].match( /\\.[\\d\\w]+$/ )[0];\n    splitSrc[1] = splitSrc[1].replace( ext, '' );\n  }\n\n  const url = splitSrc[0];\n  const query = splitSrc[1];\n  if (!query) {\n    return [url, {}];\n  }\n  const paramsPairs = query.split(\"&\");\n  const params = {};\n  const len = paramsPairs.length;\n  for (let i = 0; i < len; i++) {\n    const param = paramsPairs[i];\n    const splitParam = param.split(\"=\");\n    const key = splitParam[0];\n    const val = splitParam[1];\n    params[key] = decodeURIComponent(val);\n  }\n  return [url, params, ext];\n}\n"],"file":"extractQueryParams.js"}